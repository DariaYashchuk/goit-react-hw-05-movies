{"version":3,"file":"static/js/470.6e6d1f81.chunk.js","mappings":"wSAEaA,EAAOC,EAAAA,EAAAA,KAAH,4EAMJC,EAAQD,EAAAA,EAAAA,MAAH,sSAiBLE,EAASF,EAAAA,EAAAA,OAAH,6V,SCoBnB,EAtCkB,SAAC,GAAkB,IAAhBG,EAAe,EAAfA,SACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KAiBA,OACE,UAACP,EAAD,CAAMI,SAZa,SAAAI,GACnBA,EAAEC,iBAEGH,EAAMI,OAKXN,EAASE,GAJPK,MAAM,sBAKT,EAGC,WACE,SAACT,EAAD,CACEU,KAAK,OACLC,MAAOP,EACPQ,SApBoB,SAAAN,GACxBD,EAASC,EAAEO,cAAcF,MAAMG,cAChC,EAmBKC,aAAa,SAGf,SAACd,EAAD,CAAQS,KAAK,SAAb,UACE,SAAC,MAAD,QAIP,ECkCD,EApEe,WAAO,IAAD,EACnB,GAAwCM,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4Cf,EAAAA,EAAAA,UAAS,IAArD,eAAOgB,EAAP,KAAuBC,EAAvB,KACA,GAAwBjB,EAAAA,EAAAA,UAAS,GAAjC,eAAOkB,EAAP,KAAaC,EAAb,KACA,GAAwDnB,EAAAA,EAAAA,WAAS,GAAjE,eAAOoB,EAAP,KAA6BC,EAA7B,KACMC,GAAWC,EAAAA,EAAAA,MACXtB,EAAK,UAAGa,EAAaU,IAAI,gBAApB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WAAM,wCAId,iHAE2BC,EAAAA,GAAuBzB,EAAOiB,GAFzD,mBAI+B,KAFnBS,EAFZ,EAEYA,MAECC,cAJb,uBAKMtB,MAAM,aALZ,0BASUuB,EAAyBF,EAAKG,QAAQC,KAAI,kBAAoB,CAClEC,GAD8C,EAAGA,GAEjDC,MAF8C,EAAOA,MAAP,IAKhDhB,GAAkB,SAAAiB,GAAkB,wBAC/BA,IAD+B,OAE/BL,GAF+B,IAIpCR,EAAwBH,IAASS,EAAKQ,aAlB1C,kDAoBI7B,MAAM,SApBV,uGAJc,sBACA,KAAVL,GA2BAA,GA5BU,mCA6BZmC,EAEH,GAAE,CAACnC,EAAOiB,IAYX,OACE,4BACE,SAAC,EAAD,CAAWnB,SAZU,SAAAE,GACvBc,EAAgB,CAAEd,MAAAA,IAClBgB,EAAkB,IAClBE,EAAQ,EACT,KAUG,wBACGH,EAAee,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OAClB,yBACE,SAAC,KAAD,CAAMI,GAAE,UAAKL,GAAMA,GAAIA,EAAIM,MAAO,CAAEC,KAAMjB,GAA1C,SACGW,KAFID,EADS,MAQrBZ,IAAwB,mBAAQoB,QAjBlB,WACjBrB,GAAQ,SAAAsB,GAAQ,OAAIA,EAAW,CAAf,GACjB,EAe4B,yBAG9B,C,+LCrEDC,EAAAA,EAAAA,SAAAA,QAAyB,+BACzBA,EAAAA,EAAAA,SAAAA,QAAAA,OAAAA,cACE,6NAEK,IAAMC,EAAW,mCAAG,oGACFD,EAAAA,EAAAA,IAAU,uBADR,cACnBE,EADmB,yBAElBA,GAFkB,2CAAH,qDAKXC,EAAQ,mCAAG,WAAO5C,EAAOiB,GAAd,uFACCwB,EAAAA,EAAAA,IAAA,8BAAiCzC,EAAjC,iBAA+CiB,IADhD,cAChB0B,EADgB,yBAEfA,GAFe,2CAAH,wDAKRE,EAAe,mCAAG,WAAMC,GAAN,uFACNL,EAAAA,EAAAA,IAAA,iBAAoBK,IADd,cACvBH,EADuB,yBAEtBA,GAFsB,2CAAH,sDAKfI,EAAe,mCAAG,WAAMD,GAAN,uFACNL,EAAAA,EAAAA,IAAA,iBAAoBK,EAApB,aADM,cACvBH,EADuB,yBAEtBA,GAFsB,2CAAH,sDAKfK,EAAe,mCAAG,WAAMF,GAAN,uFACNL,EAAAA,EAAAA,IAAA,iBAAoBK,EAApB,aADM,cACvBH,EADuB,yBAEtBA,GAFsB,2CAAH,qD","sources":["components/SearchBar.styled.js","components/SearchBar.jsx","pages/Movies.jsx","services/movies-service.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  /*  */\n`;\n\nexport const Input = styled.input`\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid white;\n  color: white;\n\n  height: 35px;\n  width: 250px;\n\n  transition: border-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:focus {\n    outline: 0;\n    border-color: #053ba3;\n  }\n`;\n\nexport const Button = styled.button`\n  cursor: pointer;\n  height: 35px;\n  width: 35px;\n\n  padding: 0;\n  border: none;\n  font: inherit;\n  color: inherit;\n  background-color: transparent;\n\n  svg {\n    width: 100%;\n    height: 100%;\n    transition: fill 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n      fill: #053ba3;\n    }\n  }\n  /*  */\n`;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { AiOutlineSearch } from 'react-icons/ai';\n\nimport { Input, Form, Button } from './SearchBar.styled';\n\nconst SearchBar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleInputChange = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!query.trim()) {\n      alert('Fill in the request');\n      return;\n    }\n\n    onSubmit(query);\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input\n        type=\"text\"\n        value={query}\n        onChange={handleInputChange}\n        autoComplete=\"off\"\n      />\n\n      <Button type=\"submit\">\n        <AiOutlineSearch />\n      </Button>\n    </Form>\n  );\n};\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import { useEffect, useState } from 'react';\nimport * as MoviesService from 'services/movies-service';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport SearchBar from 'components/SearchBar';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [filteredMovies, setFilteredMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [isLoadMoreBtnVisible, setIsLoadMoreBtnVisible] = useState(false);\n  const location = useLocation();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    async function addFilteredMovies() {\n      try {\n        const { data } = await MoviesService.getMovie(query, page);\n\n        if (data.total_results === 0) {\n          alert('No movies');\n          return;\n        }\n\n        const formatedFilteredMovies = data.results.map(({ id, title }) => ({\n          id,\n          title,\n        }));\n\n        setFilteredMovies(prevFilteredMovies => [\n          ...prevFilteredMovies,\n          ...formatedFilteredMovies,\n        ]);\n        setIsLoadMoreBtnVisible(page !== data.total_pages);\n      } catch {\n        alert('error');\n      } finally {\n      }\n    }\n    if (query) {\n      addFilteredMovies();\n    }\n  }, [query, page]);\n\n  const handleFormSubmit = query => {\n    setSearchParams({ query });\n    setFilteredMovies([]);\n    setPage(1);\n  };\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div>\n      <SearchBar onSubmit={handleFormSubmit} />\n\n      <ul>\n        {filteredMovies.map(({ id, title }) => (\n          <li key={id}>\n            <Link to={`${id}`} id={id} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n      {isLoadMoreBtnVisible && <button onClick={onLoadMore}>Load more</button>}\n    </div>\n  );\n};\nexport default Movies;\n","import axios from 'axios';\n\n// const API_KEY = 'ad2942746ddd0723e99c6245fd903bed';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.headers.common['Authorization'] =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJhZDI5NDI3NDZkZGQwNzIzZTk5YzYyNDVmZDkwM2JlZCIsInN1YiI6IjY0YmQyNTNhMGVkMmFiMDBlMmRhYjY4YiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.usFVKO1fi_bibknfzjxz84ON7pNr7gg38J8efPhFlyU';\n\nexport const getTrending = async () => {\n  const response = await axios.get('/trending/movie/day');\n  return response;\n};\n\nexport const getMovie = async (query, page) => {\n  const response = await axios.get(`/search/movie?query=${query}&page=${page}`);\n  return response;\n};\n\nexport const getMovieDetails = async movie_id => {\n  const response = await axios.get(`/movie/${movie_id}`);\n  return response;\n};\n\nexport const getMovieCredits = async movie_id => {\n  const response = await axios.get(`/movie/${movie_id}/credits`);\n  return response;\n};\n\nexport const getMovieReviews = async movie_id => {\n  const response = await axios.get(`/movie/${movie_id}/reviews`);\n  return response;\n};\n"],"names":["Form","styled","Input","Button","onSubmit","useState","query","setQuery","e","preventDefault","trim","alert","type","value","onChange","currentTarget","toLowerCase","autoComplete","useSearchParams","searchParams","setSearchParams","filteredMovies","setFilteredMovies","page","setPage","isLoadMoreBtnVisible","setIsLoadMoreBtnVisible","location","useLocation","get","useEffect","MoviesService","data","total_results","formatedFilteredMovies","results","map","id","title","prevFilteredMovies","total_pages","addFilteredMovies","to","state","from","onClick","prevPage","axios","getTrending","response","getMovie","getMovieDetails","movie_id","getMovieCredits","getMovieReviews"],"sourceRoot":""}